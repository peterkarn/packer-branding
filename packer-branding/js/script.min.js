const navToggle=document.querySelector(".nav__toggle"),navWrapper=document.querySelector(".nav__wrapper"),navIcon=document.querySelector(".nav__icon"),header=document.querySelector(".site-header");let scrollpos=window.scrollY;function add_class_on_scroll(){header.classList.add("scrollable")}function remove_class_on_scroll(){header.classList.remove("scrollable")}navToggle.addEventListener("click",(function(){navWrapper.classList.contains("active")?(this.setAttribute("aria-expanded","false"),this.setAttribute("aria-label","menu"),navWrapper.classList.remove("active"),navIcon.classList.remove("open"),document.body.style.overflow="",document.ontouchmove=function(e){return!0}):(navWrapper.classList.add("active"),this.setAttribute("aria-label","close menu"),this.setAttribute("aria-expanded","true"),navIcon.classList.add("open"),document.body.style.overflow="hidden",document.ontouchmove=function(e){e.preventDefault})})),navWrapper.addEventListener("click",()=>{document.body.style.overflow="",navWrapper.classList.remove("active"),navIcon.classList.remove("open")}),window.addEventListener("scroll",(function(){scrollpos=window.scrollY,scrollpos>400?add_class_on_scroll():remove_class_on_scroll()}));const offerBackgroundSlider=new Swiper(".bg-slider",{direction:"horizontal",speed:1500,loop:!0,slidesPerView:1,touchRatio:0,effect:"fade",fadeEffect:{crossFade:!0},autoplay:{delay:3e3},pagination:{el:".bg-slider__pagination",type:"fraction"}}),offerSmallSlider=new Swiper(".small-slider",{direction:"vertical",speed:1500,loop:!0,slidesPerView:1,autoplay:{delay:3e3},pagination:{el:".small-slider__pagination",type:"fraction"},navigation:{nextEl:".small-slider__next",prevEl:".small-slider__prev"},scrollbar:{el:".swiper-scrollbar"},thumbs:{swiper:offerBackgroundSlider}}),clientsSlider=new Swiper(".clients__slider",{direction:"horizontal",speed:1500,loop:!0,breakpoints:{320:{slidesPerView:1.1,spaceBetween:15},476:{slidesPerView:1.5,spaceBetween:15},660:{slidesPerView:2.2,spaceBetween:25}}});function parallax(e){window.innerWidth>1024&&this.querySelectorAll(".layer").forEach(t=>{const a=t.getAttribute("data-speed"),n=(window.innerWidth-e.pageX*a)/300,r=(window.innerHeight-e.pageY*a)/300;t.style.transform=`translateX(${n}px) translateY(${r}px)`})}document.addEventListener("mousemove",parallax),AOS.init();const phoneInput=document.querySelectorAll('input[type="tel"]'),im=new Inputmask("+7 (999) 999-99-99");im.mask(phoneInput);let validateForms=function(e,t,a,n){new window.JustValidate(e,{rules:t,messages:{name:{required:"Обязательное поле"},email:{required:"Обязательное поле"}},submitHandler:function(e){let t=new FormData(e),a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&200===a.status&&alert("Ваши данные успешно отправлены")},a.open("POST","mail.php",!0),a.send(t),e.reset()}})};validateForms(".form",{tel:{required:!0}},".thanks-popup","send goal"),validateForms(".modal_form",{tel:{required:!0},name:{required:!0}},".thanks-popup","send goal");var scroll=new SmoothScroll('a[href*="#"]');document.querySelectorAll(".form__field").forEach(e=>{e.addEventListener("focus",()=>{e.parentElement.querySelector("span").style.opacity="1"}),e.addEventListener("blur",()=>{e.parentElement.querySelector("span").style.opacity=""})});const myModal=new HystModal({linkAttributeName:"data-hystmodal"});